<!DOCTYPE html>
<html id="html" class="html">
  <head lang="en_GB">
  <meta charset="utf-8" />
  <title data-react-helmet="true">Financial Times&#x27; HTML5 development - Brendan Graetz</title>
  <meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/><meta data-react-helmet="true" name="og:ttl" content="600"/><meta data-react-helmet="true" name="og:site_name" content="Brendan Graetz"/><meta data-react-helmet="true" name="og:description" content="The blog that Brendan writes"/><meta data-react-helmet="true" name="og:locale" content="en_GB"/><meta data-react-helmet="true" name="og:title" content="Financial Times&#x27; HTML5 development - Brendan Graetz"/><meta data-react-helmet="true" name="og:url" content="http://blog.bguiz.com/2013/05/29/financial-times-html5-development/"/><meta data-react-helmet="true" name="og:image" content="http://blog.bguiz.com/images/logo-400px.png"/><meta data-react-helmet="true" name="og:type" content="article"/>
  <link data-react-helmet="true" rel="canonical" content="http://blog.bguiz.com/2013/05/29/financial-times-html5-development/"/>
</head>
  <body>
    <div id="outlet" class="outlet">
      <div id="root-page" class="root-page"><noscript></noscript><div id="navbar" class="navbar__navbar___3unxB"><ul id="navbar-list" class="navbar__navbar-list___33l7N"><li class="navbar__navbar-item___bZsgu"><a class="fa fa-home" title="Brendan Graetz" href="/"></a></li><li class="navbar__navbar-item___bZsgu"><a class="fa fa-files-o" title="Archives" href="/archives"></a></li><li class="navbar__navbar-item___bZsgu"><a class="fa fa-television" title="Presentations" href="/presentations"></a></li><li class="navbar__navbar-item___bZsgu"><a class="fa fa-book" title="Books" href="/books"></a></li><li class="navbar__navbar-item___bZsgu"><a href="https://twitter.com/bguiz" class="fa fa-twitter" title="@bguiz on Twitter"></a></li><li class="navbar__navbar-item___bZsgu"><a href="https://github.com/bguiz" class="fa fa-github" title="bguiz on github"></a></li><li class="navbar__navbar-item___bZsgu"><a href="http://stackoverflow.com/users/194982/bguiz" class="fa fa-stack-overflow" title="bguiz on stackoverflow"></a></li><li class="navbar__navbar-item___bZsgu"><a href="http://linkedin.com/in/brendangraetz/" class="fa fa-linkedin" title="Brendan Graetz on LinkedIn"></a></li><li class="navbar__navbar-item___bZsgu"><a href="http://reddit.com/u/bguiz" class="fa fa-reddit-alien" title="/u/bguiz on Reddit"></a></li><li class="navbar__navbar-item___bZsgu"><a href="https://plus.google.com/112370545733832378774?rel=author" class="fa fa-google-plus" title="@bguiz on Google+"></a></li></ul></div><div id="root-content" class="root-content"><div id="page-post" class="page page-post"><noscript></noscript><h1 id="page-title" class="page-title post-page__page-title___2KPKG">Financial Times&#x27; HTML5 development</h1><div id="page-body" class="page-body"><div class="post-page__post-date___3HkPG">2013/05/29</div><span class="markdown__markdown-render___9BIqe"><p>Read this really interesting articles by an engineer from the <a href="http://coding.smashingmagazine.com/2013/05/23/building-the-new-financial-times-web-app/" target="_blank">Financial Times on developing their new app using HTML5</a>. I have summarised my learning points and added some comments below.</p>
<h3>Avoiding Javascript for rendering tasks</h3>
<p>Use pure HTML and CSS wherever possible, and gracefully degrade to using Javascript using shims only for platforms which do not support this. e.g. Flexbox vs pure CSS for layouts</p>
<h3>Views as a composition of layout elements</h3>
<p>They call this &#8220;modularizing the views&#8221; Conceptually, this is a good principle, but I think that the implementation could be improved:</p>
<h4>Original:</h4>
<div class="gist"><a href="https://gist.github.com/5662028" target="_blank">https://gist.github.com/5662028</a></div>
<h4>Improved:</h4>
<div class="gist"><a href="https://gist.github.com/5662149" target="_blank">https://gist.github.com/5662149</a></div>
<p>This version gets rid of the unnecessary empty CSS selector - clutters the code, and wastes a few CPU cycles during the parse phase - although this is not really a big deal as it would have no effect on rendering and the rendering engine would likely optimise-discard it.</p>
<p>This version also gets rid of the prefix &#8220;apple_&#8221; in front of each class names within the article. The selector &#8220;.x .y&#8221; will match any element of class &#8220;y&#8221; that is a child of any element of class &#8220;x&#8221;. If you wish to match -only- direct children of &#8220;x&#8221;, then use &#8220;.x &gt; .y&#8221; instead.</p>
<h4>Now add semantics:</h4>
<div class="gist"><a href="https://gist.github.com/5662156" target="_blank">https://gist.github.com/5662156</a></div>
<p>This version is about semantic HTML. If we know that that a &#8220;h2&#8221; element that is a child of an element of class &#8220;apple&#8221; will always be a heading, a &#8220;h3&#8221; a sub-heading, then use that.</p>
<p>Make sure to also avoid using &#8220;div&#8221; elements for everything. In this case, I think that &#8220;article&#8221; and &#8220;section&#8221; could be appropriate - after all it is a newspaper app! See <a href="http://diveintohtml5.info/semantics.html#new-elements" target="_blank">Semantic HTML5</a>for the full list. Of course, to render correctly in engines not supporting these elements, new in HTML5, we should also include a CSS reset:</p>
<div class="gist"><a href="https://gist.github.com/5662201" target="_blank">https://gist.github.com/5662201</a></div>
<p>(See the same <a href="http://diveintohtml5.info/semantics.html#new-elements" target="_blank">Semantic HTML5 article</a>linked above for a more comprehensive exploration of this)</p>
<h3>Open source your libraries</h3>
<ul><li><a href="https://github.com/ftlabs/ftellipsis" target="_blank">ftlabs/ftellipsis</a></li>
<li><a href="https://github.com/ftlabs/ftscroller" target="_blank">ftlabs/ftscroller</a></li>
<li><a href="https://github.com/ftlabs/fruitmachine" target="_blank">ftlabs/fruitmachine</a></li>
</ul><p>Their main app is not open source, and fair enough, they are a for-profit organisation. They have, however, open sourced the utility libraries that they have created and used in this app. Good on them for doing so!</p>
<h3>Vector graphics</h3>
<p>What is interesting here is that they have had to use Font Glyphs (storing vector images in TTF&#8217;s and WOFF&#8217;s), in order to be backward compatible with older versions of Android. There&#8217;s one way of getting around platforms lacking SVG support!</p>
<h3>Do not reinvent the wheel</h3>
<p>&#8230; except when you really need to. When they needed a means to provide touch-screen compatible scrolling capabilities to their app, they exhausted the possibilities trying out the existing libraries, before building their own.</p>
<h3>Optimise to acheive native performance</h3>
<p>When scrolling, keep the adjacent pages cached. Discard and replace with the new adjacent pages upon scrolling. This is similar to a technique used in games programming where the map/ level and the textures in the surrounding areas are loaded in anticipation of the player about to enter them in ordert to avoid frequent cut scenes.</p>
<p>Use LocalStorage to cache and store almost the entire app. I found this &#8220;preload&#8221; technique to be quite interesting, not just from a offline app point of view, but from a performance point of view.</p>
<p>“Our approach to offline is to store as little in the AppCache as possible. We use it for &#8230; things that we know will rarely or never need updating. Our JavaScript, CSS and templates live in LocalStorage. This approach gives us complete control over serving and updating the most crucial parts of our application. When the application starts, the bare minimum required to get the app up and running is sent down the wire, embedded in a single HTML page; we call this the preload.”</p>
<p>They also <a href="http://labs.ft.com/2012/06/text-re-encoding-for-optimising-storage-capacity-in-the-browser/" target="_blank">cache their images offline</a>in the local database, and compress it using a rather cool technique.</p>
<h3>Fin</h3>
<p>This articles gives a real all round overview of the nuanced trials of making a HTML5 app. Learning points all round!</p></span></div><div id="page-footer" class="page-footer"><div class="share-buttons__share-buttons___3c-nq"><ul class="share-buttons__share-items___35ozf"><li class="share-buttons__share-item___10u_7"><a href="mailto:?subject=Financial Times&#x27; HTML5 development - Brendan Graetz&amp;amp;body=http://blog.bguiz.com/2013/05/29/financial-times-html5-development" class="share-buttons__share-button-email___3ktqW share-buttons__share-button___36_MO"><span class="fa fa-envelope"></span><div class="share-count"> </div></a></li><li class="share-buttons__share-item___10u_7"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--facebook share-buttons__share-button-facebook___uSKF_ share-buttons__share-button___36_MO"><span class="fa fa-facebook"></span><div class="SocialMediaShareCount share-count"><span class="share-count-inner">&nbsp;</span></div></div></li><li class="share-buttons__share-item___10u_7"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--twitter share-buttons__share-button-twitter___3vZWS share-buttons__share-button___36_MO"><span class="fa fa-twitter"></span><div class="share-count"> </div></div></li><li class="share-buttons__share-item___10u_7"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--googlePlus share-buttons__share-button-google-plus___1OUuW share-buttons__share-button___36_MO"><span class="fa fa-google-plus"></span><div class="SocialMediaShareCount share-count"><span class="share-count-inner">&nbsp;</span></div></div></li><li class="share-buttons__share-item___10u_7"><div role="button" tabindex="0" class="SocialMediaShareButton SocialMediaShareButton--linkedin share-buttons__share-button-linkedin___2EwnF share-buttons__share-button___36_MO"><span class="fa fa-linkedin"></span><div class="SocialMediaShareCount share-count"><span class="share-count-inner">&nbsp;</span></div></div></li></ul></div><div><span>Tagged in:</span><ul class="post-tags__tags-list___3m4XD"><li class="post-tags__tags-item___3xlEk"><a href="/tags/blog">blog</a></li><li class="post-tags__tags-item___3xlEk"><a href="/tags/html5">html5</a></li><li class="post-tags__tags-item___3xlEk"><a href="/tags/javascript">javascript</a></li><li class="post-tags__tags-item___3xlEk"><a href="/tags/css">css</a></li><li class="post-tags__tags-item___3xlEk"><a href="/tags/open source">open source</a></li></ul></div><div><a href="https://github.com/bguiz/blog.bguiz.com/blob/develop/src/documents/tumblrposts/2013-05-29-financial-times-html5-development.html" target="_blank">Edit this content</a></div><div><div title="Financial Times&#x27; HTML5 development"><div id="disqus_thread"></div><noscript><span>Please enable JavaScript to view the<a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></span></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by<span class="logo-disqus">Disqus</span></a></div></div></div></div></div><div id="footprofile" class="foot-profile__footprofile___23hoj"><div class="foot-profile__footprofile-logo___3JA-e"><img src="/images/logo-100px.png" alt="Brendan Graetz"/></div><div class="foot-profile__footprofile-links___3U9KR"><ul class="foot-profile__footer-links___2SYBF"><li class="foot-profile__footer-item___22yBd"><a title="Brendan Graetz" href="/"><span class="fa fa-home foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Brendan Graetz</span></a></li><li class="foot-profile__footer-item___22yBd"><a title="Archives" href="/archives"><span class="fa fa-files-o foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Archives</span></a></li><li class="foot-profile__footer-item___22yBd"><a title="Presentations" href="/presentations"><span class="fa fa-television foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Presentations</span></a></li><li class="foot-profile__footer-item___22yBd"><a title="Books" href="/books"><span class="fa fa-book foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Books</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="https://twitter.com/bguiz" title="@bguiz on Twitter"><span class="fa fa-twitter foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">@bguiz</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="https://github.com/bguiz" title="bguiz on github"><span class="fa fa-github foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Github</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="http://stackoverflow.com/users/194982/bguiz" title="bguiz on stackoverflow"><span class="fa fa-stack-overflow foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Stackoverflow</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="http://linkedin.com/in/brendangraetz/" title="Brendan Graetz on LinkedIn"><span class="fa fa-linkedin foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">LinkedIn</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="http://reddit.com/u/bguiz" title="/u/bguiz on Reddit"><span class="fa fa-reddit-alien foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">Reddit</span></a></li><li class="foot-profile__footer-item___22yBd"><a href="https://plus.google.com/112370545733832378774?rel=author" title="@bguiz on Google+"><span class="fa fa-google-plus foot-profile__footer-link-icon___11CDs"></span><span class="foot-profile__footer-link-text___1slED">+bguiz.com</span></a></li></ul></div><div class="foot-profile__clear___1vNYP"></div></div><div id="footbar" class="footbar__footbar___2dhrz"><p class="footbar__footbar-text___Rc4dT">Copyright © 2008-present Brendan Graetz</p></div></div>
    </div>
    
<link rel="stylesheet" type="text/css" href="/app.css">
<link rel="stylesheet" type="text/css" href="/3rd-party/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/3rd-party/highlight-js/css/dracula.css">
<script type="text/javascript" src="/bundle.js"></script>
  </body>
</html>